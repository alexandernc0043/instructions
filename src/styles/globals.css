@import "tw-animate-css";
@import "tailwindcss";

@source "../app/**/*.{ts,tsx,mdx}";
@source "../components/**/*.{ts,tsx}";
@source "../lib/**/*.{ts,tsx}";
@source "./**/*.css";


@layer base {
    html {
        @apply leading-[1.7] bg-white text-black;
    }

    body {
        @apply m-0 p-4 md:p-8;
        counter-reset: header;
    }

}

/* Headings */
@layer base {
    h1 {
        @apply text-4xl md:text-5xl font-extrabold leading-tight tracking-tight mb-4;
    }

    h2 {
        @apply text-2xl md:text-3xl font-bold leading-snug tracking-tight mt-8 mb-3;
    }

    h3 {
        @apply text-xl md:text-2xl font-semibold leading-snug mt-6 mb-2;
    }
}

/* Typography & lists */
@layer base {
    ul, ol {
        @apply px-4 md:px-6 py-2 mb-3;
    }

    li {
        @apply mb-2 leading-[1.6] list-none;
    }

    ul > li {
        list-style: disc inside;
    }
}

/* Headings & ordered list counters (raw CSS â€” Tailwind has no counters) */
@layer base {
    ol {
        counter-reset: item;
    }

    section ol > li::before {
        content: counter(item) ") ";
        counter-increment: item;
    }

    h2::before {
        content: "(" counter(header) ") ";
        counter-increment: header;
    }
}

/* Blockquotes */
@layer components {
    blockquote {
        @apply bg-neutral-100 border-l-[5px] border-neutral-400 my-6 mx-0 px-4 md:px-6 py-3 text-neutral-700 italic rounded-r-md overflow-x-scroll;
    }

    .blockquote-red {
        @apply bg-red-50 border-l-[5px] border-red-700 my-6 mx-0 px-4 md:px-6 py-3 text-red-800 italic rounded-r-md;
    }
}

/* Code & preformatted */
@layer components {
    /* Make images and media scale on mobile */
    img, video, svg, canvas, iframe {
        @apply max-w-full h-auto;
    }

    code, pre code {
        @apply text-neutral-100 font-mono text-base rounded;
    }

    code {
        @apply bg-neutral-900 px-2 py-1 border border-neutral-700;
    }

    pre {
        @apply bg-neutral-900 p-4 overflow-x-auto rounded-lg my-6;
    }

    pre code {
        @apply border-0 p-0 bg-transparent text-inherit text-base whitespace-pre;
    }

    /* Prevent double-styling when using highlight.js themes */
    .hljs {
        @apply bg-transparent p-0 rounded-none text-inherit;
    }
}

/* Footer */
@layer components {
    footer {
        @apply text-center;
    }
}

/* Table of Contents */
@layer components {
    #toc {
        @apply bg-white border border-neutral-200 rounded-lg p-4 sm:p-6 my-6 sm:my-8 shadow-sm text-base;
    }

    #toc-title {
        @apply font-bold mb-2 text-neutral-800 tracking-wide;
    }

    #toc ul {
        @apply list-none pl-0 m-0;
    }

    #toc li {
        @apply mb-2 leading-6;
    }

    #toc a {
        @apply text-blue-600 no-underline transition-colors;
    }

    #toc a:hover {
        @apply text-blue-900 underline;
    }
}
